<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonic Ferrofluid | 60SecondDev</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* The Canvas Container applies the "Gooey" liquid filter */
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            filter: url('#goo');
            /* The Magic Sauce */
            opacity: 0;
            /* Hidden until start */
            transition: opacity 1s ease;
        }

        canvas {
            display: block;
        }

        /* START BUTTON UI */
        #ui-layer {
            position: absolute;
            z-index: 10;
            text-align: center;
            pointer-events: none;
        }

        button {
            pointer-events: auto;
            background: transparent;
            color: #00f3ff;
            border: 2px solid #00f3ff;
            padding: 15px 40px;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            cursor: pointer;
            transition: 0.3s;
            font-family: inherit;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
        }

        button:hover {
            background: #00f3ff;
            color: #000;
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.6);
        }

        h1 {
            font-weight: 100;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        p {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-bottom: 30px;
        }

        /* Glitch class for beat drops */
        .glitch-active {
            animation: shake 0.1s infinite;
        }

        @keyframes shake {
            0% {
                transform: translate(2px, 2px);
            }

            25% {
                transform: translate(-2px, -2px);
            }

            50% {
                transform: translate(2px, -2px);
            }

            75% {
                transform: translate(-2px, 2px);
            }
        }
    </style>
</head>

<body>

    <!-- UI LAYER -->
    <div id="ui-layer">
        <h1>Sonic Ferrofluid</h1>
        <p>Microphone Access Required for Visualization</p>
        <button id="start-btn">Initialize System</button>
    </div>

    <!-- CANVAS LAYER -->
    <div id="canvas-container">
        <canvas id="canvas"></canvas>
    </div>

    <!-- SVG FILTER FOR GOOEY EFFECT -->
    <!-- This filter merges nearby objects, creating the liquid look -->
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="display:none;">
        <defs>
            <filter id="goo">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9"
                    result="goo" />
                <feComposite in="SourceGraphic" in2="goo" operator="atop" />
            </filter>
        </defs>
    </svg>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const btn = document.getElementById('start-btn');
        const ui = document.getElementById('ui-layer');
        const container = document.getElementById('canvas-container');

        let width, height;
        let particles = [];
        let audioContext, analyser, dataArray;
        let isRunning = false;
        let volume = 0;

        // CONFIG
        const PARTICLE_COUNT = 150;
        const SENSITIVITY = 2.5; // Multiplier for audio reaction

        // --- RESIZE HANDLER ---
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // --- AUDIO SETUP ---
        async function setupAudio() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                analyser = audioContext.createAnalyser();
                const source = audioContext.createMediaStreamSource(stream);

                source.connect(analyser);
                analyser.fftSize = 256;
                const bufferLength = analyser.frequencyBinCount;
                dataArray = new Uint8Array(bufferLength);

                startVisualizer();
            } catch (e) {
                alert("Microphone access denied. The visualizer needs audio to work.");
            }
        }

        // --- PARTICLE SYSTEM ---
        class Particle {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = width / 2;
                this.y = height / 2;
                const angle = Math.random() * Math.PI * 2;
                // Start with random drift
                this.vx = Math.cos(angle) * Math.random() * 2;
                this.vy = Math.sin(angle) * Math.random() * 2;
                this.radius = Math.random() * 20 + 10;
                this.baseRadius = this.radius;
                this.hue = Math.random() * 60 + 160; // Cyan/Blue range
                this.life = Math.random() * 100 + 100;
            }

            update(audioValue) {
                // Move
                this.x += this.vx;
                this.y += this.vy;

                // React to Audio (Push outward from center)
                const dx = this.x - (width / 2);
                const dy = this.y - (height / 2);
                const dist = Math.sqrt(dx * dx + dy * dy);

                // If audio is loud, push harder
                if (audioValue > 10) {
                    // Normalizing the push vector
                    const force = audioValue * 0.05;
                    this.vx += (dx / dist) * force * 0.1;
                    this.vy += (dy / dist) * force * 0.1;

                    // Grow size
                    this.radius = this.baseRadius + (audioValue * 0.2);
                } else {
                    // Shrink back
                    this.radius = this.radius * 0.95 + this.baseRadius * 0.05;
                    // Return to center slowly (Gravity)
                    this.vx -= dx * 0.001;
                    this.vy -= dy * 0.001;
                }

                // Friction
                this.vx *= 0.96;
                this.vy *= 0.96;

                // Color Shift based on intensity
                if (audioValue > 100) {
                    this.hue = 0; // Turn Red on heavy beats
                } else {
                    this.hue = 180 + (audioValue); // Blue -> Purple
                }

                // Screen Boundaries (Bounce)
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = `hsl(${this.hue}, 100%, 50%)`;
                ctx.fill();
                ctx.closePath();
            }
        }

        // --- INIT ---
        function initParticles() {
            for (let i = 0; i < PARTICLE_COUNT; i++) {
                particles.push(new Particle());
            }
        }

        // --- MAIN LOOP ---
        function animate() {
            // 1. Get Audio Data
            analyser.getByteFrequencyData(dataArray);

            // Calculate average volume
            let sum = 0;
            for (let i = 0; i < dataArray.length; i++) {
                sum += dataArray[i];
            }
            const avgVolume = sum / dataArray.length * SENSITIVITY;

            // 2. Visual Effects based on Volume
            if (avgVolume > 120) {
                // Heavy Beat Drop
                document.body.classList.add('glitch-active');
                container.style.transform = `scale(${1 + avgVolume / 1000})`;
            } else {
                document.body.classList.remove('glitch-active');
                container.style.transform = `scale(1)`;
            }

            // 3. Clear Canvas (Transparent for the Gooey effect)
            ctx.clearRect(0, 0, width, height);

            // 4. Update Particles
            particles.forEach((p, index) => {
                // Map specific frequency bands to particles for variety
                // Lower index particles react to Bass, Higher to Treble
                const freqIndex = Math.floor((index / PARTICLE_COUNT) * dataArray.length);
                const freqValue = dataArray[freqIndex] * SENSITIVITY;

                p.update(freqValue);
                p.draw();
            });

            // 5. Center Core (The "Speaker")
            ctx.beginPath();
            ctx.arc(width / 2, height / 2, avgVolume, 0, Math.PI * 2);
            ctx.fillStyle = `hsl(${avgVolume + 180}, 100%, 50%)`;
            ctx.fill();

            if (isRunning) requestAnimationFrame(animate);
        }

        function startVisualizer() {
            ui.style.display = 'none';
            container.style.opacity = 1;
            isRunning = true;
            initParticles();
            animate();
        }

        btn.addEventListener('click', setupAudio);

    </script>
    <!-- 
    Based on the current obsession with **"Audio-Reactive Visuals"** and **"Liquid/Gooey UI"** (seen in trending shader tutorials and Awwwards sites), I have designed **"Sonic Ferrofluid"**.

This project uses the **Web Audio API** to capture your real-time microphone input and feeds it into a **Metaball Liquid Engine**. It turns sound waves into a living, breathing neon sludge that dances to your voice or music.

### **Why this will go viral:**
1.  **Real-Time Interaction:** It requires the user to speak, clap, or play music, making it highly engaging for "duets" or reaction videos.
2.  **The "Gooey" Effect:** It uses a specific SVG filter trick to turn standard particles into merging liquid blobsâ€”a visual style that always gets high retention.
3.  **RGB Split:** When the volume spikes (beat drops), the interface applies a chromatic aberration (glitch) effect.

### **The Code**
Save this as `fluid_audio.html`. **Note:** You must allow Microphone access when prompted for this to work.


http://googleusercontent.com/immersive_entry_chip/0

### **Viral Strategy Metadata**

**Title Options:**
1.  **I Turned My Voice into Liquid Neon ðŸŽ¤ðŸ’§**
2.  **Coding a Ferrofluid Visualizer (Audio Reactive) ðŸ”Š**
3.  **POV: You discover the Web Audio API ðŸ¤¯**

**Description:**
> Visualizing sound with code. ðŸ”Š
>
> This is **"Sonic Ferrofluid"**. It uses the `Web Audio API` to capture real-time microphone data and feeds it into a particle system.
>
> **The Secret Sauce:**
> I'm using an SVG Filter (`<feColorMatrix>`) known as the "Gooey Filter". It blurs the particles together and then sharpens the contrast, making distinct circles merge into a liquid blob.
>
> **Try it:**
> Speak, clap, or play your favorite song.
>
> **#javascript #creativecoding #webaudio #visualizer #webdev**

**Tags:**
`javascript, web audio api, music visualizer, creative coding, ferrofluid, liquid ui, coding tutorial, web development, html5 canvas, generative art, 60seconddev` -->
</body>

</html>